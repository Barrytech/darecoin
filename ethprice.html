<html>

<head>
  <title>DareChain/ Live Data Example - HTML5 jQuery Chart Plugin by jqChart</title>
  <script src="node_modules/jquery/dist/jquery.js" type="text/javascript"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   <link type="text/css" rel="stylesheet" href="style.css" />
</head>

<body>
  <nav class="navbar navbar-inverse">
<div class="container-fluid">
    <ul class="nav navbar-nav navbar-left">
    <li><a href="#"><span><img class="img-fluid rounded-circle" src="https://i.pinimg.com/originals/7c/c7/a6/7cc7a630624d20f7797cb4c8e93c09c1.png" style="width: 25px; height: 25px;"></span></a></li>
      <li><a href="#"><span> DARE-COIN </span></a></li>
    </ul>
  </div>
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-5">

  <div id="container">
  <table width:"100%" id="table">

    <tr>
      <th class="labels">Price:</th>
      <th aligh="right" id="price" class="results">    bj  </th>

    </tr>

      <th class="labels">%Change:</th>
      <th aligh="right" id="change" class="results">      </th>

    </tr>

      <th class="labels">Daily:</th>
      <th aligh="right" id="day" class="results">      </th>

    </tr>

      <th class="labels">Weekly:</th>
      <th aligh="right" id="week" class="results">      </th>

    </tr>

      <th class="labels">Updated:</th>
      <th aligh="right" id="moment" class="results">      </th>

    </tr>

  </table>
  </div>
</div>

<div class="col-md-5" >
  <div class="container-fluid">
    <ul class="nav navbar-nav navbar-right">
      <li><a href="#"><span> DARE-COIN </span></a></li>
     <li><a href="#"><span> User Name </span></a></li>
      <li><a href="#"><span><img class="img-fluid rounded-circle" src="https://i.pinimg.com/originals/7c/c7/a6/7cc7a630624d20f7797cb4c8e93c09c1.png" style="width: 25px; height: 25px;"></span></a></li>
    </ul>

  </div>
    </div>
        <div class="col-md-1"></div>
      </div>

</nav>

<div id="input-form" >
 <form>
      <div class="input-group  input-sm" style="width: 400px; position:center">
        <input type="text" class="form-control" placeholder="Search">
        <div class="input-group-btn">
          <button class="btn btn-primary" type="submit"> Submit
          </button>
        </div>
         </div>

    </form>
    </div>

</div>


</body>
</html>

<!-- CODE GOES BELOW -->

<script>
/* global $ */
var url = "https://api.coinmarketcap.com/v1/ticker/ethereum/";

function getTimeFromSeconds(timeInSecs){
    // API returns in seconds, but Date needs milliseconds
    // so we multiply by 1000 to get todays date as a string
    return new Date(timeInSecs*1000).toDateString();
}

function updatePrice(){
  $.ajax(url).done(function (res) {

    // inside the function ^
    var price = res[0].price_usd;
    var change = res[0].percent_change_1h;
    var daychange = res[0].percent_change_24h;
    var weekchange = res[0].percent_change_7d;

    var dateAsString = getTimeFromSeconds(res[0].last_updated);

    $("#price").html( "<strong>" +"$"+ price + "</strong>" );
    $("#change").html( "<strong>" + change + "%"+"</strong>" );
    $("#moment").html( "<strong>" + dateAsString + "</strong>" );
    $("#day").html( "<strong>" + daychange+ "%" + "</strong>" );
    $("#week").html( "<strong>" + weekchange+ "%" + "</strong>" );

  });

  // update every 5s
  setTimeout(updatePrice, 5000);
}

$('document').ready(function(){
  updatePrice();
})

</script>
